# Nutrition API - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–∞–Ω–∞–º–∏ –ø–∏—Ç–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤.

**Base URL:** `/api/nutrition`

---

## üöß –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–î–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª API –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–¥–∏–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –ù–∏–∂–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –ø–ª–∞–Ω–∏—Ä—É–µ–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞.

---

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ –ø–∏—Ç–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞](#–ø–æ–ª—É—á–µ–Ω–∏–µ-–ø–ª–∞–Ω–∞-–ø–∏—Ç–∞–Ω–∏—è-–∫–ª–∏–µ–Ω—Ç–∞)
- [–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã](#–ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
- [–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö](#–º–æ–¥–µ–ª–∏-–¥–∞–Ω–Ω—ã—Ö)

---

## –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ –ø–∏—Ç–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞

**‚è≥ –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ**

–ü–æ–ª—É—á–∞–µ—Ç –ø–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞.

**Endpoint:** `GET /api/nutrition/client/plan`

**–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:** `CLIENT`, `TRAINER`

**Headers:**

```
Authorization: Bearer <access_token>
```

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–π –æ—Ç–≤–µ—Ç (200 OK)

```json
{
	"plan": {
		"id": "cm4nutrition123",
		"clientId": "cm4abc123def456",
		"trainerId": "cm4xyz789ghi012",
		"startDate": "2025-12-01T00:00:00.000Z",
		"endDate": "2025-12-31T23:59:59.000Z",
		"notes": "–ü–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ –Ω–∞–±–æ—Ä –º—ã—à–µ—á–Ω–æ–π –º–∞—Å—Å—ã",
		"totalCalories": 2500,
		"totalProtein": 150,
		"totalCarbs": 250,
		"totalFats": 80,
		"meals": [
			{
				"id": "meal1",
				"mealType": "–ó–∞–≤—Ç—Ä–∞–∫",
				"time": "08:00",
				"notes": "–°—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—è",
				"products": [
					{
						"id": "mealProduct1",
						"amount": 200,
						"product": {
							"id": "product1",
							"name": "–û–≤—Å—è–Ω–∞—è –∫–∞—à–∞",
							"calories": 68,
							"protein": 2.4,
							"carbs": 12.3,
							"fats": 1.4
						}
					}
				]
			}
		],
		"createdAt": "2025-12-01T10:00:00.000Z",
		"updatedAt": "2025-12-02T15:30:00.000Z"
	}
}
```

---

## –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### EPIC 6: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–∏—Ç–∞–Ω–∏—è

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–∏—Ç–∞–Ω–∏—è.

| –ú–µ—Ç–æ–¥  | Endpoint          | –û–ø–∏—Å–∞–Ω–∏–µ                  | –î–æ—Å—Ç—É–ø  |
| ------ | ----------------- | ------------------------- | ------- |
| GET    | `/categories`     | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π  | TRAINER |
| POST   | `/categories`     | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏  | TRAINER |
| GET    | `/categories/:id` | –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ ID | TRAINER |
| PUT    | `/categories/:id` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏      | TRAINER |
| DELETE | `/categories/:id` | –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏        | TRAINER |

### EPIC 7: –ü—Ä–æ–¥—É–∫—Ç—ã –ø–∏—Ç–∞–Ω–∏—è

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –≤ —Ä–∞–º–∫–∞—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π.

| –ú–µ—Ç–æ–¥  | Endpoint        | –û–ø–∏—Å–∞–Ω–∏–µ                 | –î–æ—Å—Ç—É–ø  |
| ------ | --------------- | ------------------------ | ------- |
| GET    | `/products`     | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ | TRAINER |
| POST   | `/products`     | –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞ | TRAINER |
| GET    | `/products/:id` | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –ø–æ ID | TRAINER |
| PUT    | `/products/:id` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞      | TRAINER |
| DELETE | `/products/:id` | –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞        | TRAINER |

### EPIC 8: –ü–ª–∞–Ω—ã –ø–∏—Ç–∞–Ω–∏—è

–°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞–º–∏ –ø–∏—Ç–∞–Ω–∏—è –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤.

| –ú–µ—Ç–æ–¥  | Endpoint             | –û–ø–∏—Å–∞–Ω–∏–µ                      | –î–æ—Å—Ç—É–ø  |
| ------ | -------------------- | ----------------------------- | ------- |
| GET    | `/plans`             | –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–ª–∞–Ω–æ–≤ —Ç—Ä–µ–Ω–µ—Ä–∞ | TRAINER |
| POST   | `/plans`             | –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ –ø–∏—Ç–∞–Ω–∏—è        | TRAINER |
| GET    | `/plans/:id`         | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ –ø–æ ID         | TRAINER |
| PUT    | `/plans/:id`         | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞              | TRAINER |
| DELETE | `/plans/:id`         | –£–¥–∞–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞                | TRAINER |
| GET    | `/client/plan`       | –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ –∫–ª–∏–µ–Ω—Ç–∞       | CLIENT  |
| GET    | `/client/plan/:date` | –ü–ª–∞–Ω –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É       | CLIENT  |

---

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### NutritionCategory

–ö–∞—Ç–µ–≥–æ—Ä–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–∏—Ç–∞–Ω–∏—è.

```typescript
{
  id: string;                    // CUID
  name: string;                  // –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  description?: string;          // –û–ø–∏—Å–∞–Ω–∏–µ
  trainerId: string;             // ID —Ç—Ä–µ–Ω–µ—Ä–∞-–≤–ª–∞–¥–µ–ª—å—Ü–∞
  createdAt: Date;               // –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è
  updatedAt: Date;               // –î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
}
```

**–ü—Ä–∏–º–µ—Ä—ã –∫–∞—Ç–µ–≥–æ—Ä–∏–π:**

- –ö—Ä—É–ø—ã –∏ –∑–ª–∞–∫–∏
- –ú—è—Å–æ –∏ –ø—Ç–∏—Ü–∞
- –†—ã–±–∞ –∏ –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç—ã
- –û–≤–æ—â–∏
- –§—Ä—É–∫—Ç—ã
- –ú–æ–ª–æ—á–Ω—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
- –û—Ä–µ—Ö–∏ –∏ —Å–µ–º–µ–Ω–∞

---

### NutritionProduct

–ü—Ä–æ–¥—É–∫—Ç –ø–∏—Ç–∞–Ω–∏—è –≤ —Ä–∞–º–∫–∞—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–∏.

```typescript
{
	id: string // CUID
	name: string // –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
	categoryId: string // ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
	calories: number // –ö–∞–ª–æ—Ä–∏–∏ –Ω–∞ 100–≥
	protein: number // –ë–µ–ª–∫–∏ (–≥)
	carbs: number // –£–≥–ª–µ–≤–æ–¥—ã (–≥)
	fats: number // –ñ–∏—Ä—ã (–≥)
	trainerId: string // ID —Ç—Ä–µ–Ω–µ—Ä–∞
	createdAt: Date
	updatedAt: Date
}
```

### NutritionPlan (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

```typescript
{
  id: string;          // CUID
  clientId: string;    // ID –∫–ª–∏–µ–Ω—Ç–∞
  trainerId: string;   // ID —Ç—Ä–µ–Ω–µ—Ä–∞
  startDate: Date;     // –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞
  endDate?: Date;      // –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è
  notes?: string;      // –ü—Ä–∏–º–µ—á–∞–Ω–∏—è (rich text)
  meals: Meal[];       // –ü—Ä–∏–µ–º—ã –ø–∏—â–∏
  createdAt: Date;
  updatedAt: Date;
}
```

### Meal (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

```typescript
{
  id: string;          // CUID
  planId: string;      // ID –ø–ª–∞–Ω–∞
  mealType: string;    // –ó–∞–≤—Ç—Ä–∞–∫, –û–±–µ–¥, –£–∂–∏–Ω, –ü–µ—Ä–µ–∫—É—Å
  time?: string;       // –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –≤—Ä–µ–º—è
  products: MealProduct[]; // –ü—Ä–æ–¥—É–∫—Ç—ã
  notes?: string;      // –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
}
```

### MealProduct (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

```typescript
{
	id: string // CUID
	mealId: string // ID –ø—Ä–∏–µ–º–∞ –ø–∏—â–∏
	productId: string // ID –ø—Ä–æ–¥—É–∫—Ç–∞
	amount: number // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (–≥)
	product: NutritionProduct // –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–µ
}
```

---

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### Rich Text –¥–ª—è –ø—Ä–∏–º–µ—á–∞–Ω–∏–π

–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è:

- –ü—Ä–∏–º–µ—á–∞–Ω–∏–π –∫ –ø–ª–∞–Ω—É –ø–∏—Ç–∞–Ω–∏—è
- –ü—Ä–∏–º–µ—á–∞–Ω–∏–π –∫ –ø—Ä–∏–µ–º–∞–º –ø–∏—â–∏

### –†–∞—Å—á–µ—Ç –ö–ë–ñ–£

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å—É–º–º–∞—Ä–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π:

- –ö–∞–ª–æ—Ä–∏–∏
- –ë–µ–ª–∫–∏
- –ñ–∏—Ä—ã
- –£–≥–ª–µ–≤–æ–¥—ã

–ù–∞ —É—Ä–æ–≤–Ω–µ:

- –ü—Ä–∏–µ–º–∞ –ø–∏—â–∏
- –î–Ω—è
- –í—Å–µ–≥–æ –ø–ª–∞–Ω–∞

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫

- –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ö–ë–ñ–£
- –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞–Ω–æ–≤ –ø–∏—Ç–∞–Ω–∏—è

---

## üìå –°—Ç–∞—Ç—É—Å

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** TBD
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π (EPIC 4)

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

- EPIC 4: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π —Ç—Ä–µ–Ω–µ—Ä-–∫–ª–∏–µ–Ω—Ç (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
- EPIC 5: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- EPIC 6: CRUD –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–∏—Ç–∞–Ω–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- EPIC 7: CRUD –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- EPIC 8: CRUD –ø–ª–∞–Ω–æ–≤ –ø–∏—Ç–∞–Ω–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

---

_–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ –º–µ—Ä–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞._
