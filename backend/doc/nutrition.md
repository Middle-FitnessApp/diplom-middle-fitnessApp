# Nutrition API - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–∞–Ω–∞–º–∏ –ø–∏—Ç–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤.

**Base URL:** `/api/nutrition`

---

## üöß –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

–î–∞–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª API –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ü–ª–∞–Ω–∏—Ä—É—é—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### –î–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

- `GET /api/nutrition/client/plan` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ –ø–∏—Ç–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
- `GET /api/nutrition/client/plan/:date` - –ü–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É

#### –î–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤ (EPIC 6-8)

**EPIC 6: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–∏—Ç–∞–Ω–∏—è**

- `GET /api/nutrition/categories` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–∏—Ç–∞–Ω–∏—è
- `POST /api/nutrition/categories` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `GET /api/nutrition/categories/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ ID
- `PUT /api/nutrition/categories/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
- `DELETE /api/nutrition/categories/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**EPIC 7: –ü—Ä–æ–¥—É–∫—Ç—ã**

- `GET /api/nutrition/products` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
- `POST /api/nutrition/products` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
- `GET /api/nutrition/products/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞ –ø–æ ID
- `PUT /api/nutrition/products/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
- `DELETE /api/nutrition/products/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞

**EPIC 8: –ü–ª–∞–Ω—ã –ø–∏—Ç–∞–Ω–∏—è**

- `GET /api/nutrition/plans` - –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–ª–∞–Ω–æ–≤ —Ç—Ä–µ–Ω–µ—Ä–∞
- `POST /api/nutrition/plans` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ –ø–∏—Ç–∞–Ω–∏—è
- `GET /api/nutrition/plans/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–ª–∞–Ω–∞ –ø–æ ID
- `PUT /api/nutrition/plans/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞
- `DELETE /api/nutrition/plans/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–∞

---

## üìã –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### NutritionCategory (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

```typescript
{
  id: string;          // CUID
  name: string;        // –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
  description?: string;// –û–ø–∏—Å–∞–Ω–∏–µ
  trainerId: string;   // ID —Ç—Ä–µ–Ω–µ—Ä–∞
  createdAt: Date;
  updatedAt: Date;
}
```

### NutritionProduct (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

```typescript
{
	id: string // CUID
	name: string // –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–∞
	categoryId: string // ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
	calories: number // –ö–∞–ª–æ—Ä–∏–∏ –Ω–∞ 100–≥
	protein: number // –ë–µ–ª–∫–∏ (–≥)
	carbs: number // –£–≥–ª–µ–≤–æ–¥—ã (–≥)
	fats: number // –ñ–∏—Ä—ã (–≥)
	trainerId: string // ID —Ç—Ä–µ–Ω–µ—Ä–∞
	createdAt: Date
	updatedAt: Date
}
```

### NutritionPlan (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

```typescript
{
  id: string;          // CUID
  clientId: string;    // ID –∫–ª–∏–µ–Ω—Ç–∞
  trainerId: string;   // ID —Ç—Ä–µ–Ω–µ—Ä–∞
  startDate: Date;     // –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞
  endDate?: Date;      // –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è
  notes?: string;      // –ü—Ä–∏–º–µ—á–∞–Ω–∏—è (rich text)
  meals: Meal[];       // –ü—Ä–∏–µ–º—ã –ø–∏—â–∏
  createdAt: Date;
  updatedAt: Date;
}
```

### Meal (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

```typescript
{
  id: string;          // CUID
  planId: string;      // ID –ø–ª–∞–Ω–∞
  mealType: string;    // –ó–∞–≤—Ç—Ä–∞–∫, –û–±–µ–¥, –£–∂–∏–Ω, –ü–µ—Ä–µ–∫—É—Å
  time?: string;       // –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –≤—Ä–µ–º—è
  products: MealProduct[]; // –ü—Ä–æ–¥—É–∫—Ç—ã
  notes?: string;      // –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
}
```

### MealProduct (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

```typescript
{
	id: string // CUID
	mealId: string // ID –ø—Ä–∏–µ–º–∞ –ø–∏—â–∏
	productId: string // ID –ø—Ä–æ–¥—É–∫—Ç–∞
	amount: number // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (–≥)
	product: NutritionProduct // –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–¥—É–∫—Ç–µ
}
```

---

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### Rich Text –¥–ª—è –ø—Ä–∏–º–µ—á–∞–Ω–∏–π

–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –¥–ª—è:

- –ü—Ä–∏–º–µ—á–∞–Ω–∏–π –∫ –ø–ª–∞–Ω—É –ø–∏—Ç–∞–Ω–∏—è
- –ü—Ä–∏–º–µ—á–∞–Ω–∏–π –∫ –ø—Ä–∏–µ–º–∞–º –ø–∏—â–∏

### –†–∞—Å—á–µ—Ç –ö–ë–ñ–£

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —Å—É–º–º–∞—Ä–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π:

- –ö–∞–ª–æ—Ä–∏–∏
- –ë–µ–ª–∫–∏
- –ñ–∏—Ä—ã
- –£–≥–ª–µ–≤–æ–¥—ã

–ù–∞ —É—Ä–æ–≤–Ω–µ:

- –ü—Ä–∏–µ–º–∞ –ø–∏—â–∏
- –î–Ω—è
- –í—Å–µ–≥–æ –ø–ª–∞–Ω–∞

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫

- –ü–æ–∏—Å–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ö–ë–ñ–£
- –ò—Å—Ç–æ—Ä–∏—è –ø–ª–∞–Ω–æ–≤ –ø–∏—Ç–∞–Ω–∏—è

---

## üìå –°—Ç–∞—Ç—É—Å

**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
**–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** TBD
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π (EPIC 4)

---

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

- EPIC 4: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π —Ç—Ä–µ–Ω–µ—Ä-–∫–ª–∏–µ–Ω—Ç (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
- EPIC 5: –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –≥—Ä–∞—Ñ–∏–∫–∏ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- EPIC 6: CRUD –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–∏—Ç–∞–Ω–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- EPIC 7: CRUD –ø—Ä–æ–¥—É–∫—Ç–æ–≤ (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- EPIC 8: CRUD –ø–ª–∞–Ω–æ–≤ –ø–∏—Ç–∞–Ω–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

---

_–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –±—É–¥–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ –º–µ—Ä–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞._
