# üë§ User API (–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

Base URL: `/api/user`

---

## GET `/me`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.

**–î–æ—Å—Ç—É–ø:** CLIENT, TRAINER

**Headers:**

- `Authorization: Bearer <accessToken>`

**–û—Ç–≤–µ—Ç:**

```json
{
	"user": {
		"id": "...",
		"name": "...",
		"email": "...",
		"phone": "...",
		"photo": "...",
		"age": 25,
		"role": "CLIENT",
		// –î–ª—è CLIENT:
		"goal": "–ü–æ—Ö—É–¥–µ–Ω–∏–µ",
		"restrictions": "–ê–ª–ª–µ—Ä–≥–∏—è –Ω–∞ –æ—Ä–µ—Ö–∏",
		"experience": "–ù–æ–≤–∏—á–æ–∫",
		"diet": "–ë–µ–∑ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π",
		// –î–ª—è TRAINER:
		"bio": "–û–ø—ã—Ç–Ω—ã–π —Ç—Ä–µ–Ω–µ—Ä...",
		"telegram": "@trainer",
		"whatsapp": "+79991234567",
		"instagram": "@trainer_insta"
	}
}
```

**–û—à–∏–±–∫–∏:**

- `401` - –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω

---

## PUT `/client/profile`

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è –∫–ª–∏–µ–Ω—Ç–∞.

**–î–æ—Å—Ç—É–ø:** CLIENT

**Headers:**

- `Authorization: Bearer <accessToken>`

**Body:**

- –¢–∏–ø: `multipart/form-data` (–µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ñ–æ—Ç–æ) –∏–ª–∏ `application/json`
- –ü–æ–ª—è (–≤—Å–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ):
  - `name`, `email`, `phone`, `age`
  - `goal`, `restrictions`, `experience`, `diet`
  - `photo` - –æ—Å–Ω–æ–≤–Ω–æ–µ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è (–º–∞–∫—Å. 500KB)

**–û—Ç–≤–µ—Ç:**

```json
{
  "message": "–ü—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—ë–Ω",
  "user": { ...updatedUserData }
}
```

**–û—à–∏–±–∫–∏:**

- `400` - Email/—Ç–µ–ª–µ—Ñ–æ–Ω —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `400` - –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- `403` - –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

---

## PUT `/trainer/profile`

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —Ç—Ä–µ–Ω–µ—Ä–∞.

**–î–æ—Å—Ç—É–ø:** TRAINER

**Headers:**

- `Authorization: Bearer <accessToken>`

**Body:**

- –¢–∏–ø: `multipart/form-data` (–µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ñ–æ—Ç–æ) –∏–ª–∏ `application/json`
- –ü–æ–ª—è (–≤—Å–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ):
  - `name`, `email`, `phone`, `age`
  - `telegram`, `whatsapp`, `instagram`, `bio`
  - `photo` - –æ—Å–Ω–æ–≤–Ω–æ–µ —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è (–º–∞–∫—Å. 500KB)

**–û—Ç–≤–µ—Ç:**

```json
{
  "message": "–ü—Ä–æ—Ñ–∏–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—ë–Ω",
  "user": { ...updatedUserData }
}
```

**–û—à–∏–±–∫–∏:**

- `400` - Email/—Ç–µ–ª–µ—Ñ–æ–Ω —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- `400` - –ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
- `403` - –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –§–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ Supabase Storage
- –ü—Ä–∏ —Å–º–µ–Ω–µ —Ñ–æ—Ç–æ —Å—Ç–∞—Ä–æ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è
- Email –∏ —Ç–µ–ª–µ—Ñ–æ–Ω –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏
- –ú–∏–Ω–∏–º—É–º –æ–¥–Ω–æ –∫–æ–Ω—Ç–∞–∫—Ç–Ω–æ–µ –ø–æ–ª–µ (email –∏–ª–∏ phone) –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
